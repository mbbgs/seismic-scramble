(()=>{const _=atob('eyJhbnN3ZXIiOiJQUklWQUNZIiwiZmFjdCI6IlNlaXNtaWMgZ2l2ZXMgdXNlcnMgZnVsbCB0cmFuc2FjdGlvbiBwcml2YWN5IHdpdGhvdXQgaGlkaW5nIGludGVncml0eSDigJQgeW91ciBhY3Rpb25zIHN0YXkgeW91cnMuIn18eyJhbnN3ZXIiOiJFTkNSWVBUSU9OIiwiZmFjdCI6IlRyYW5zYWN0aW9ucyBhcmUgc2VhbGVkIGVuZC10by1lbmQgdXNpbmcgYWR2YW5jZWQgZW5jcnlwdGlvbiB0byBwcm90ZWN0IHNlbnNpdGl2ZSBkYXRhLiJ9fHsiYW5zd2VyIjoiQ09NUExJQU5DRSIsImZhY3QiOiJTZWlzbWljIGJhbGFuY2VzIHByaXZhY3kgd2l0aCBjb21wbGlhbmNlLCBlbmFibGluZyBvcHRpb25hbCBwcm9vZiBkaXNjbG9zdXJlIHRvIHJlZ3VsYXRvcnMuIn18eyJhbnN3ZXIiOiJBVURJVCIsImZhY3QiOiJFbmNyeXB0ZWQgcmVjb3JkcyByZW1haW4gYXVkaXRhYmxlIHRocm91Z2ggY3J5cHRvZ3JhcGhpYyBhdHRlc3RhdGlvbnMg4oCUIG5vIGRhdGEgbGVha3MgcmVxdWlyZWQuIn18eyJhbnN3ZXIiOiJaRVJPS05PV0xFREdFIiwiZmFjdCI6Ilplcm8ta25vd2xlZGdlIHByb29mcyBhbGxvdyB2ZXJpZmljYXRpb24gb2YgdHJ1dGggd2l0aG91dCByZXZlYWxpbmcgdW5kZXJseWluZyBkZXRhaWxzLiJ9fHsiYW5zd2VyIjoiU0VDVVJJVFkiLCJmYWN0IjoiRXZlcnkgdHJhbnNhY3Rpb24gaXMgc2hpZWxkZWQgYnkgbW9kZXJuIGNyeXB0b2dyYXBoeSBhbmQgbXVsdGktbGF5ZXJlZCBkZWZlbnNlIHByb3RvY29scy4ifXx7ImFuc3dlciI6Ik1FVlBST1RFQ1RJT04iLCJmYWN0IjoiRW5jcnlwdGVkIHRyYW5zYWN0aW9uIG9yZGVyaW5nIGRlZmVuZHMgdXNlcnMgYWdhaW5zdCBmcm9udC1ydW5uaW5nIGFuZCBNRVYgYXR0YWNrcy4ifXx7ImFuc3dlciI6IklERU5USVRZIiwiZmFjdCI6IlNlaXNtaWMgZW5hYmxlcyBpZGVudGl0eSB2ZXJpZmljYXRpb24gdGhhdCBwcm90ZWN0cyB1c2VycyBmcm9tIHByb2ZpbGluZyBhbmQgZGF0YSBtaXN1c2UuIn18eyJhbnN3ZXIiOiJCTE9DS0NIQUlOIiwiZmFjdCI6IlNlaXNtaWMgaW50ZXJvcGVyYXRlcyBhY3Jvc3MgbXVsdGlwbGUgYmxvY2tjaGFpbnMsIGVuc3VyaW5nIHByaXZhdGUgeWV0IHZlcmlmaWFibGUgc2V0dGxlbWVudC4ifXx7ImFuc3dlciI6IlRSQU5TUEFSRU5DWSIsImZhY3QiOiJTZWlzbWljIG1lcmdlcyB0cmFuc3BhcmVuY3kgYW5kIGNvbmZpZGVudGlhbGl0eSB0aHJvdWdoIGNyeXB0b2dyYXBoaWMgYXR0ZXN0YXRpb25zLiJ9fHsiYW5zd2VyIjoiQVVUT0xPQU4iLCJmYWN0IjoiUHJpdmF0ZSBEZUZpIGxlbmRpbmcgcmFpbHMgbGV0IGluc3RpdHV0aW9ucyBpc3N1ZSBsb2FucyB3aXRob3V0IGV4cG9zaW5nIGN1c3RvbWVyIGRhdGEuIn18eyJhbnN3ZXIiOiJGSU5URUNIIiwiZmFjdCI6IkZpbnRlY2hzIGNhbiBlbWJlZCBTZWlzbWljIHByaXZhY3kgaW50byB0aGVpciBhcHBzIHRvIG9mZmVyIGNvbXBsaWFudCBjb25maWRlbnRpYWwgZmluYW5jZS4ifXx7ImFuc3dlciI6IlNFVFRMRU1FTlQiLCJmYWN0IjoiSW5zdGFudCBwcml2YXRlIHNldHRsZW1lbnQgZW5zdXJlcyBzcGVlZCBhbmQgY29uZmlkZW50aWFsaXR5IGFjcm9zcyBsZWRnZXJzLiJ9fHsiYW5zd2VyIjoiVE9LRU5JWkFUSU9OIiwiZmFjdCI6IkFzc2V0cyBjYW4gYmUgdG9rZW5pemVkIHByaXZhdGVseSB3aXRoIHNlbGVjdGl2ZSB2aXNpYmlsaXR5IGZvciBpc3N1ZXJzIGFuZCBhdWRpdG9ycy4ifXx7ImFuc3dlciI6IlZFUklGSUFCSUxJVFkiLCJmYWN0IjoiRXZlcnkgcHJpdmF0ZSB0cmFuc2FjdGlvbiBjYW4gc3RpbGwgYmUgdmVyaWZpZWQgY3J5cHRvZ3JhcGhpY2FsbHkgZm9yIGFjY3VyYWN5LiJ9fHsiYW5zd2VyIjoiQ09OU0VOVCIsImZhY3QiOiJTZWlzbWljIHB1dHMgdXNlcnMgaW4gY29udHJvbCDigJQgZGF0YSBhY2Nlc3MgaGFwcGVucyBvbmx5IHRocm91Z2ggZXhwbGljaXQgY29uc2VudC4ifXx7ImFuc3dlciI6IklOU1RJVFVUSU9OUyIsImZhY3QiOiJCYW5rcyBhbmQgZW50ZXJwcmlzZXMgdXNlIFNlaXNtaWMgcmFpbHMgdG8gb2ZmZXIgcHJpdmFjeS1wcmVzZXJ2aW5nIGRpZ2l0YWwgYXNzZXRzLiJ9fHsiYW5zd2VyIjoiQVVESVRUUkFJTCIsImZhY3QiOiJFbmNyeXB0ZWQgYXVkaXQgdHJhaWxzIHByZXNlcnZlIGFjY291bnRhYmlsaXR5IHdpdGhvdXQgbGVha2luZyBzZW5zaXRpdmUgZGV0YWlscy4ifXx7ImFuc3dlciI6IlNDQUxBQklMSVRZIiwiZmFjdCI6IkxheWVyZWQgY3J5cHRvZ3JhcGh5IGVuc3VyZXMgU2Vpc21pYyBzY2FsZXMgd2hpbGUgbWFpbnRhaW5pbmcgcHJpdmFjeSBhbmQgc3BlZWQuIn18eyJhbnN3ZXIiOiJDVVNUT0RZIiwiZmFjdCI6IlByaXZhdGUgY3VzdG9keSBmbG93cyBlbmFibGUgc2VjdXJlIGtleSBtYW5hZ2VtZW50IGFuZCBjb25maWRlbnRpYWwgYXNzZXQgdHJhY2tpbmcuIn0=').split('|').map(x=>JSON.parse(x)),W=a=>{const x=[...a];for(let i=x.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[x[i],x[j]]=[x[j],x[i]]}return x},$=i=>document.getElementById(i),sE=$('scrambledWord'),hE=$('levelHint'),gI=$('guessInput'),sB=$('btnSubmit'),stB=$('btnStart'),skB=$('btnSkip'),hiB=$('btnHint'),rB=$('btnRestart'),ruB=$('btnRules'),fB=$('factBox'),pB=$('progressBar'),rI=$('roundInfo'),cC=$('correctCount'),aC=$('attemptCount'),hL=$('historyList'),mS=$('miniScore'),rA=$('resultArea'),cC2=$('confetti');let R=[],I=0,C=0,A=0,S=!1;const N=s=>s.replace(/\s+/g,'').toUpperCase(),SC=w=>{const l=w.split('');for(let i=l.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[l[i],l[j]]=[l[j],l[i]]}return l.join('')===w?SC(w):l.join(' ')},ST=()=>{R=W(_);I=0;C=0;A=0;S=!0;fB.style.display='none';rA.style.display='none';gI.disabled=!1;sB.disabled=!1;gI.value='';gI.focus();UU();RR()},UU=()=>{rI.textContent=`${Math.min(I+1,R.length)} / ${R.length}`;cC.textContent=C;aC.textContent=A;mS.textContent=`${C}`;pB.style.width=Math.round(C/R.length*100)+'%'},RR=()=>{if(I>=R.length){EG();return}const wO=R[I];sE.textContent=SC(wO.answer);hE.textContent=`Round ${I+1} — Unscramble to learn`;fB.style.display='none';gI.value='';gI.focus();UU();LH(`Round ${I+1} started`)},SF=t=>{fB.style.display='block';fB.textContent=t},SFB=(ok,cW)=>{ok?(LH(`✅ ${cW}`),SF(R[I].fact),C++):(LH(`❌ ${gI.value||'(blank)'} — correct: ${cW}`),SF('Not quite — keep going!'));A++;I++;UU();setTimeout(()=>I<R.length?RR():EG(),900)},SG=()=>{if(!S)return;const g=N(gI.value||''),cur=R[I].answer,nA=N(cur);if(!g)return;SFB(g===nA,cur)},SK=()=>{if(!S)return;SFB(!1,R[I].answer)},RH=()=>{if(!S)return;const c=R[I].answer,n=c.replace(/\s+/g,'');hE.textContent=`Hint: starts with "${n[0]}" and ends with "${n[n.length-1]}" (length ${n.length})`;LH(`Hint shown for round ${I+1}`)},LH=t=>{const d=document.createElement('div');d.className='item';d.textContent=t;hL.prepend(d);while(hL.children.length>30)hL.removeChild(hL.lastChild)},EG=()=>{S=!1;gI.disabled=!0;sB.disabled=!0;hE.textContent='Game complete';SR(Math.round(C/R.length*100))},SR=p=>{rA.innerHTML='';rA.style.display='block';const w=document.createElement('div');w.className='result-wrapper';const ok=p>=50,em=ok?'🏆':'📘',ti=ok?'Seismic Certified (v1)':'Keep Learning',st=ok?`You scored <b>${p}%</b> — strong grasp of Seismic concepts!`:`You scored <b>${p}%</b>. You're close — review and try again.`;w.innerHTML=`<div class="result-card ${ok?'success':'fail'}"><div class="result-header">${em}</div><h2>${ti}</h2><p>${st}</p><div class="result-actions">${ok?'<button class="btn primary" id="btnReplay">Play Again</button><button class="btn outline disabled" id="btnCert" disabled>Generate Certificate<span class="comingsoon">v2</span></button>':'<button class="btn primary" id="btnRetry">Try Again</button><a class="btn outline" href="https://docs.seismic.systems/" target="_blank">Learn More</a>'}</div></div>`;rA.appendChild(w);rA.scrollIntoView({behavior:'smooth',block:'center'});if(ok)LC();const rpB=$('btnReplay'),rtB=$('btnRetry');if(rpB)rpB.onclick=()=>ST();if(rtB)rtB.onclick=()=>ST()},LC=()=>{const c=cC2,ctx=c.getContext('2d'),D=window.devicePixelRatio||1;c.width=c.clientWidth*D;c.height=c.clientHeight*D;ctx.scale(D,D);const W2=c.clientWidth,H=c.clientHeight,ps=[],cs=['#00ff88','#b8ffde','#00e58c','#8affd1','#ff6b6b','#ffd93d','#6c63ff','#ff9f43','#f368e0','#48dbfb'];for(let i=0;i<300;i++)ps.push({x:Math.random()*W2,y:-Math.random()*H,vx:(Math.random()-.5)*3,vy:Math.random()*4+2,r:Math.random()*6+2,c:cs[Math.floor(Math.random()*cs.length)],rot:Math.random()*360,dr:(Math.random()-.5)*8});let t=0;function fr(){ctx.clearRect(0,0,c.width,c.height);for(const p of ps){p.x+=p.vx;p.y+=p.vy;p.rot+=p.dr;ctx.save();ctx.translate(p.x,p.y);ctx.rotate(p.rot*Math.PI/180);ctx.fillStyle=p.c;ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r*.6);ctx.restore()}t++;t<150?requestAnimationFrame(fr):ctx.clearRect(0,0,c.width,c.height)}fr()};sB.addEventListener('click',SG);gI.addEventListener('keydown',e=>{if(e.key==='Enter')SG()});stB.addEventListener('click',()=>ST());skB.addEventListener('click',SK);hiB.addEventListener('click',RH);rB.addEventListener('click',()=>{ST();hL.innerHTML='<div class="item">Restarted</div>'});ruB.addEventListener('click',()=>{alert('Unscramble the letters to type the correct Seismic concept. 10 rounds. If you score 50% or above you are Seismic Certified. Below 50% shows links to learn more.')});UU();document.addEventListener('keydown',e=>{if(e.key.toLowerCase()==='s'&&!S)ST()})})()